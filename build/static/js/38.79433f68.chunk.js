(this.webpackJsonpdecon_admin=this.webpackJsonpdecon_admin||[]).push([[38],{1491:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(43),c=t(465),o=t(913),i=t(916),s=t(165),m=t(289),u=t(144),d=t(27),p=t(31),E=t(29),b=t(3),g=t(174),f=t.n(g),h=t(28),v=t(856),k=t(960),j=t(1482),O=t(1469),w=t(891),y=t(905),C=t(906),_=t(215),N=t(1021),S=t(888),A=t(1027),x=t(1028),P=t(1029),z=t(1030),L=t(1031),W=t(921),I=t(887),R=t(118),F=t(862),B=t(1503),J=t(958),T=t(994),q=t(975),D=t(995),H=t(976),G=t(1076),U=t.n(G),Y=t(1077),K=t.n(Y),M=t(903),Q=t(993),V=t(942),X=[{value:"all",label:"All"},{value:"jobs",label:"Working"},{value:"is_active",label:"Active"}];var Z=Object(c.a)((function(e){return{root:{},queryField:{width:500},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.default},bulkAction:{marginLeft:e.spacing(2)},profile_picture:{height:42,width:42,marginRight:e.spacing(1)}}}));function $(e){var a=e.className,t=e.workers,c=Object(p.a)(e,["className","workers"]),o=Z(),m=Object(l.c)(),g=Object(n.useState)("all"),G=Object(d.a)(g,2),Y=G[0],$=G[1],ee=Object(n.useState)([]),ae=Object(d.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)(0),le=Object(d.a)(re,2),ce=le[0],oe=le[1],ie=Object(n.useState)(10),se=Object(d.a)(ie,2),me=se[0],ue=se[1],de=Object(n.useState)(""),pe=Object(d.a)(de,2),Ee=pe[0],be=pe[1],ge=Object(n.useState)({}),fe=Object(d.a)(ge,2),he=fe[0],ve=fe[1],ke=r.a.useState(!1),je=Object(d.a)(ke,2),Oe=je[0],we=je[1],ye=function(e){ne(e.target.checked?t.map((function(e){return e._id})):[])},Ce=function(){we(!1)},_e=function(e,a,t){return e.filter((function(e){var n=!0;if(a){var r=!1;["email","first_name","last_name"].forEach((function(t){e[t].toLowerCase().includes(a.toLowerCase())&&(r=!0)})),r||(n=!1)}return Object.keys(t).forEach((function(a){var r=t[a];r&&e[a]!==r&&(n=!1)})),n}))}(t,Ee,he),Ne=function(e,a,t){return e.slice(a*t,a*t+t)}(_e,ce,me),Se=te.length>0,Ae=te.length>0&&te.length<t.length,xe=te.length===t.length,Pe=Object(h.a)(),ze=Object(v.a)(Pe.breakpoints.down("sm"));return r.a.createElement(k.a,Object.assign({className:Object(b.a)(o.root,a)},c),r.a.createElement(j.a,{onChange:function(e,a){var t={};"all"!==a&&(t[a]=!0),ve(t),ne([]),$(a)},scrollButtons:"auto",textColor:"secondary",value:Y,variant:"scrollable"},X.map((function(e){return r.a.createElement(O.a,{key:e.value,value:e.value,label:e.label})}))),r.a.createElement(w.a,null),r.a.createElement(i.a,{p:2,minHeight:56,display:"flex",alignItems:"center"},r.a.createElement(y.a,{className:o.queryField,InputProps:{startAdornment:r.a.createElement(C.a,{position:"start"},r.a.createElement(_.a,{fontSize:"small",color:"action"},r.a.createElement(M.a,null)))},onChange:function(e){e.persist(),be(e.target.value)},placeholder:"Search workers",value:Ee,variant:"outlined"}),r.a.createElement(i.a,{flexGrow:1})),Se&&r.a.createElement("div",{className:o.bulkOperations},r.a.createElement("div",{className:o.bulkActions},r.a.createElement(N.a,{checked:xe,indeterminate:Ae,onChange:ye}),r.a.createElement(S.a,{variant:"outlined",className:o.bulkAction,onClick:function(){we(!0)}},"Delete"))),r.a.createElement(f.a,null,r.a.createElement(i.a,{minWidth:700},r.a.createElement(A.a,null,r.a.createElement(x.a,null,r.a.createElement(P.a,null,r.a.createElement(z.a,{padding:"checkbox"},r.a.createElement(N.a,{checked:xe,indeterminate:Ae,onChange:ye})),r.a.createElement(z.a,null,"Name"),r.a.createElement(z.a,null,"State"),r.a.createElement(z.a,null,"City"),r.a.createElement(z.a,null,"Address"),r.a.createElement(z.a,null,"Jobs"),r.a.createElement(z.a,null,"isActive"),r.a.createElement(z.a,{align:"right"},"Action"))),r.a.createElement(L.a,null,Ne.map((function(e){var a=te.includes(e._id);return r.a.createElement(P.a,{hover:!0,key:e._id,selected:a},r.a.createElement(z.a,{padding:"checkbox"},r.a.createElement(N.a,{checked:a,onChange:function(a){return t=e._id,void(te.includes(t)?ne((function(e){return e.filter((function(e){return e!==t}))})):ne((function(e){return[].concat(Object(u.a)(e),[t])})));var t},value:a})),r.a.createElement(z.a,null,r.a.createElement(i.a,{display:"flex",alignItems:"center"},r.a.createElement(W.a,{className:o.profile_picture,src:e.profile_picture},Object(V.a)(e.first_name)),r.a.createElement("div",null,r.a.createElement(I.a,{color:"inherit",component:E.a,to:"/app/workers/".concat(e._id),variant:"h6"},"".concat(e.first_name," ").concat(e.last_name)),r.a.createElement(R.a,{variant:"body2",color:"textSecondary"},e.email)))),r.a.createElement(z.a,null,e.state),r.a.createElement(z.a,null,e.city),r.a.createElement(z.a,null,e.address),r.a.createElement(z.a,null,!e.jobs&&0),r.a.createElement(z.a,null,e.is_active?r.a.createElement(U.a,{fontSize:"small"}):r.a.createElement(K.a,{fontSize:"small"})),r.a.createElement(z.a,{align:"right"},r.a.createElement(F.a,{component:E.a,to:"/app/workers/".concat(e._id)},r.a.createElement(_.a,{fontSize:"small"},r.a.createElement(Q.a,null)))))})))))),r.a.createElement(B.a,{component:"div",count:_e.length,onChangePage:function(e,a){oe(a)},onChangeRowsPerPage:function(e){ue(e.target.value)},page:ce,rowsPerPage:me,rowsPerPageOptions:[5,10,25]}),r.a.createElement(J.a,{fullScreen:ze,open:Oe,onClose:Ce,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(T.a,{id:"responsive-dialog-title"},"Remove"),r.a.createElement(q.a,null,r.a.createElement(D.a,null,"This will permanently delete selected workers. Are you sure?")),r.a.createElement(H.a,null,r.a.createElement(S.a,{autoFocus:!0,onClick:function(){m(Object(s.h)(te)),we(!1)},color:"primary"},"Yes"),r.a.createElement(S.a,{onClick:Ce,color:"primary",autoFocus:!0},"No"))))}$.defaultProps={workers:[]};var ee=$,ae=t(914),te=t(936),ne=t(928),re=t.n(ne),le=t(1033),ce=Object(c.a)((function(e){return{root:{paddingLeft:e.spacing(3)},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var oe=function(e){var a=e.className,t=Object(p.a)(e,["className"]),n=ce();return r.a.createElement(ae.a,Object.assign({className:Object(b.a)(n.root,a),container:!0,justify:"space-between",spacing:3},t),r.a.createElement(ae.a,{item:!0},r.a.createElement(te.a,{separator:r.a.createElement(re.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(I.a,{variant:"body1",color:"inherit",to:"/app/dashboard",component:E.a},"Dashboard"),r.a.createElement(R.a,{variant:"body1",color:"textPrimary"},"Workers")),r.a.createElement(R.a,{variant:"h3",color:"textPrimary"},"All Workers")),r.a.createElement(ae.a,{item:!0},r.a.createElement(S.a,{color:"secondary",variant:"contained",className:n.action,as:I.a,to:"/app/workers/create",component:E.a},r.a.createElement(_.a,{fontSize:"small",className:n.actionIcon},r.a.createElement(le.a,null)),"New Worker")))},ie=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=ie(),a=Object(l.c)(),t=Object(l.d)((function(e){return e.worker})).workers;return Object(n.useEffect)((function(){a(Object(s.g)())}),[]),t?r.a.createElement(m.a,{className:e.root,title:"Worker List"},r.a.createElement(oe,null),r.a.createElement(o.a,{maxWidth:!1},t&&r.a.createElement(i.a,{mt:3},r.a.createElement(ee,{workers:t})))):null}},942:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}}}]);
//# sourceMappingURL=38.79433f68.chunk.js.map