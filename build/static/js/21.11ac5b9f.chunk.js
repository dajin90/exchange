(this.webpackJsonpdecon_admin=this.webpackJsonpdecon_admin||[]).push([[21,6],{1e3:function(e,t,a){"use strict";var n=a(0),r=n.createContext({});t.a=r},1025:function(e,t,a){"use strict";var n=a(0),r=a(171);t.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1026:function(e,t,a){"use strict";var n=a(0),r=a(171);t.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1247:function(e,t,a){"use strict";var n=a(1),r=a(65),c=a(94),o=a(4),i=a(0),l=a(3),u=(a(2),a(1e3)),s=a(6),d=a(131);var f=function(e,t,a){for(var n=t;n<e.length;n+=1)if(a===e[n])return n;return-1},m=[],p=[],b=i.forwardRef((function(e,t){var a=e.children,s=e.classes,b=e.className,h=e.defaultCollapseIcon,v=e.defaultEndIcon,g=e.defaultExpanded,E=void 0===g?m:g,O=e.defaultExpandIcon,j=e.defaultParentIcon,y=e.defaultSelected,x=void 0===y?p:y,N=e.disableSelection,C=void 0!==N&&N,w=e.multiSelect,k=void 0!==w&&w,S=e.expanded,I=e.onNodeSelect,R=e.onNodeToggle,T=e.selected,L=Object(o.a)(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),P=i.useState(null),D=P[0],_=P[1],A=i.useState(null),F=A[0],K=A[1],B=i.useRef({}),H=i.useRef({}),M=i.useRef([]),W=Object(d.a)({controlled:S,default:E,name:"TreeView"}),z=Object(c.a)(W,2),V=z[0],$=z[1],U=Object(d.a)({controlled:T,default:x,name:"TreeView"}),q=Object(c.a)(U,2),G=q[0],J=q[1],Q=i.useCallback((function(e){return!!Array.isArray(V)&&-1!==V.indexOf(e)}),[V]),X=i.useCallback((function(e){return Array.isArray(G)?-1!==G.indexOf(e):G===e}),[G]),Y=function(e){var t=M.current.indexOf(e);return-1!==t&&t+1<M.current.length?M.current[t+1]:null},Z=function(e){var t=M.current.indexOf(e);return-1!==t&&t-1>=0?M.current[t-1]:null},ee=function(){return M.current[M.current.length-1]},te=function(){return M.current[0]},ae=function(e){e&&(_(e),K(e))},ne=i.useRef(null),re=i.useRef(!1),ce=i.useRef([]),oe=function(e,t){var a=G,n=t.start,r=t.next,c=t.current;r&&c&&(-1===ce.current.indexOf(c)&&(ce.current=[]),re.current?-1!==ce.current.indexOf(r)?(a=a.filter((function(e){return e===n||e!==c})),ce.current=ce.current.filter((function(e){return e===n||e!==c}))):(a.push(r),ce.current.push(r)):(a.push(r),ce.current.push(c,r)),I&&I(e,a),J(a))},ie=function(e,t){var a=G,n=t.start,r=t.end;re.current&&(a=G.filter((function(e){return-1===ce.current.indexOf(e)})));var c=function(e,t){var a=M.current.indexOf(e),n=M.current.indexOf(t),r=Math.min(a,n),c=Math.max(a,n);return M.current.slice(r,c+1)}(n,r);ce.current=c;var o=a.concat(c);o=o.filter((function(e,t){return o.indexOf(e)===t})),I&&I(e,o),J(o)},le=function(e,t){var a=[];a=-1!==G.indexOf(t)?G.filter((function(e){return e!==t})):[t].concat(Object(r.a)(G)),I&&I(e,a),J(a)},ue=function(e,t){var a=k?[t]:t;I&&I(e,a),J(a)},se=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.start,r=void 0===n?ne.current:n,c=t.end,o=t.current;return a?oe(e,{start:r,next:c,current:o}):ie(e,{start:r,end:c}),re.current=!0,!0},de=i.useCallback((function(e){var t=B.current[e],a=[];return t&&(a.push(e),t.children&&(a.push.apply(a,Object(r.a)(t.children)),t.children.forEach((function(e){a.push.apply(a,Object(r.a)(de(e)))})))),a}),[]),fe=i.useCallback((function(e){var t=de(e),a=Object(n.a)({},B.current);t.forEach((function(e){var t=a[e];if(t){if(t.parent){var r=a[t.parent];if(r&&r.children){var c=r.children.filter((function(t){return t!==e}));a[t.parent]=Object(n.a)({},r,{children:c})}}delete a[e]}})),B.current=a,K((function(t){return t===e?null:t}))}),[de]),me=i.useRef([]),pe=i.useState(!1),be=pe[0],he=pe[1];i.useEffect((function(){var e=[];i.Children.forEach(a,(function(t){i.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),function(e,t){if(e.length!==t.length)return!0;for(var a=0;a<e.length;a+=1)if(e[a]!==t[a])return!0;return!1}(me.current,e)&&(B.current[-1]={parent:null,children:e},e.forEach((function(e,t){0===t&&_(e)})),M.current=B.current[-1].children,me.current=e,he(!0))}),[a]),i.useEffect((function(){be&&(M.current=function e(t){for(var a=[],n=0;n<t.length;n+=1){var r=t[n];a.push(r);var c=B.current[r].children;Q(r)&&c&&(a=a.concat(e(c)))}return a}(B.current[-1].children))}),[V,be,Q,a]);var ve=function(){return!1};return i.createElement(u.a.Provider,{value:{icons:{defaultCollapseIcon:h,defaultExpandIcon:O,defaultParentIcon:j,defaultEndIcon:v},focus:ae,focusFirstNode:function(){return ae(te())},focusLastNode:function(){return ae(ee())},focusNextNode:function(e){return ae(Y(e))},focusPreviousNode:function(e){return ae(Z(e))},focusByFirstCharacter:function(e,t){var a,n,r=t.toLowerCase(),c=[],o=[];Object.keys(H.current).forEach((function(e){var t=H.current[e],a=B.current[e];(!a.parent||Q(a.parent))&&(c.push(e),o.push(t))})),(a=c.indexOf(e)+1)===B.current.length&&(a=0),-1===(n=f(o,a,r))&&(n=f(o,0,r)),n>-1&&ae(c[n])},expandAllSiblings:function(e,t){var a,n=B.current[t],c=B.current[n.parent];c?a=c.children.filter((function(e){return!Q(e)})):a=B.current[-1].children.filter((function(e){return!Q(e)}));var o=[].concat(Object(r.a)(V),Object(r.a)(a));$(o),R&&R(e,o)},toggleExpansion:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;-1!==V.indexOf(a)?(t=V.filter((function(e){return e!==a})),_((function(e){var t=B.current[e];return e&&(t&&t.parent?t.parent.id:null)===a?a:e}))):t=[a].concat(Object(r.a)(V)),R&&R(e,t),$(t)},isExpanded:Q,isFocused:function(e){return F===e},isSelected:X,selectNode:C?ve:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!t&&(a?le(e,t):ue(e,t),ne.current=t,re.current=!1,ce.current=[],!0)},selectRange:C?ve:se,selectNextNode:C?ve:function(e,t){return se(e,{end:Y(t),current:t},!0)},selectPreviousNode:C?ve:function(e,t){return se(e,{end:Z(t),current:t},!0)},rangeSelectToFirst:C?ve:function(e,t){ne.current||(ne.current=t);var a=re.current?ne.current:t;return se(e,{start:a,end:te()})},rangeSelectToLast:C?ve:function(e,t){ne.current||(ne.current=t);var a=re.current?ne.current:t;return se(e,{start:a,end:ee()})},selectAllNodes:C?ve:function(e){return se(e,{start:te(),end:ee()})},isTabbable:function(e){return D===e},multiSelect:k,getParent:function(e){return B.current[e].parent},mapFirstChar:function(e,t){H.current[e]=t},addNodeToNodeMap:function(e,t){var a=B.current[e];B.current[e]=Object(n.a)({},a,{children:t,id:e}),t.forEach((function(t){var a=B.current[t];B.current[t]=Object(n.a)({},a,{parent:e,id:t})}))},removeNodeFromNodeMap:fe}},i.createElement("ul",Object(n.a)({role:"tree","aria-multiselectable":k,className:Object(l.a)(s.root,b),ref:t},L),a))}));t.a=Object(s.a)({root:{padding:0,margin:0,listStyle:"none"}},{name:"MuiTreeView"})(b)},1248:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),o=a(3),i=(a(2),a(118)),l=a(467),u=a(22),s=a(28),d=a(6),f=a(14),m=a(1e3),p=c.forwardRef((function(e,t){var a=e.children,u=e.classes,d=e.className,p=e.collapseIcon,b=e.endIcon,h=e.expandIcon,v=e.icon,g=e.label,E=e.nodeId,O=e.onClick,j=e.onFocus,y=e.onKeyDown,x=e.onMouseDown,N=e.TransitionComponent,C=void 0===N?l.a:N,w=e.TransitionProps,k=Object(r.a)(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),S=c.useContext(m.a),I=S.icons,R=S.focus,T=S.focusFirstNode,L=S.focusLastNode,P=S.focusNextNode,D=S.focusPreviousNode,_=S.focusByFirstCharacter,A=S.selectNode,F=S.selectRange,K=S.selectNextNode,B=S.selectPreviousNode,H=S.rangeSelectToFirst,M=S.rangeSelectToLast,W=S.selectAllNodes,z=S.expandAllSiblings,V=S.toggleExpansion,$=S.isExpanded,U=S.isFocused,q=S.isSelected,G=S.isTabbable,J=S.multiSelect,Q=S.getParent,X=S.mapFirstChar,Y=S.addNodeToNodeMap,Z=S.removeNodeFromNodeMap,ee=c.useRef(null),te=c.useRef(null),ae=Object(f.a)(ee,t),ne=v,re=Boolean(Array.isArray(a)?a.length:a),ce=!!$&&$(E),oe=!!U&&U(E),ie=!!G&&G(E),le=!!q&&q(E),ue=I||{},se=Object(s.a)();ne||(re?(ne=ce?p||ue.defaultCollapseIcon:h||ue.defaultExpandIcon)||(ne=ue.defaultParentIcon):ne=b||ue.defaultEndIcon);var de,fe=function(e){return re&&(ce?P(E):V(e)),!0},me=function(e){if(ce)return V(e,E),!0;var t=Q(E);return!!t&&(R(t),!0)};return c.useEffect((function(){if(Y){var e=[];c.Children.forEach(a,(function(t){c.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),Y(E,e)}}),[a,E,Y]),c.useEffect((function(){if(Z)return function(){Z(E)}}),[E,Z]),c.useEffect((function(){X&&g&&X(E,te.current.textContent.substring(0,1).toLowerCase())}),[X,E,g]),c.useEffect((function(){oe&&ee.current.focus()}),[oe]),J?de=le:le&&(de=!0),c.createElement("li",Object(n.a)({className:Object(o.a)(u.root,d,ce&&u.expanded,le&&u.selected),role:"treeitem",onKeyDown:function(e){var t=!1,a=e.key;if(!e.altKey&&e.currentTarget===e.target){var n,r=e.ctrlKey||e.metaKey;switch(a){case" ":ee.current===e.currentTarget&&(t=J&&e.shiftKey?F(e,{end:E}):J?A(e,E,!0):A(e,E)),e.stopPropagation();break;case"Enter":ee.current===e.currentTarget&&re&&(V(e),t=!0),e.stopPropagation();break;case"ArrowDown":J&&e.shiftKey&&K(e,E),P(E),t=!0;break;case"ArrowUp":J&&e.shiftKey&&B(e,E),D(E),t=!0;break;case"ArrowRight":t="rtl"===se.direction?me(e):fe(e);break;case"ArrowLeft":t="rtl"===se.direction?fe(e):me(e);break;case"Home":J&&r&&e.shiftKey&&H(e,E),T(),t=!0;break;case"End":J&&r&&e.shiftKey&&M(e,E),L(),t=!0;break;default:"*"===a?(z(e,E),t=!0):J&&r&&"a"===a.toLowerCase()?t=W(e):!r&&!e.shiftKey&&((n=a)&&1===n.length&&n.match(/\S/))&&(_(E,a),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),y&&y(e)}},onFocus:function(e){oe||e.currentTarget!==e.target||R(E),j&&j(e)},"aria-expanded":re?ce:null,"aria-selected":de,ref:ae,tabIndex:ie?0:-1},k),c.createElement("div",{className:u.content,onClick:function(e){oe||R(E);var t=J&&(e.shiftKey||e.ctrlKey||e.metaKey);!re||t&&$(E)||V(e,E),t?e.shiftKey?F(e,{end:E}):A(e,E,!0):A(e,E),O&&O(e)},onMouseDown:function(e){(e.shiftKey||e.ctrlKey||e.metaKey)&&e.preventDefault(),x&&x(e)},ref:te},c.createElement("div",{className:u.iconContainer},ne),c.createElement(i.a,{component:"div",className:u.label},g)),a&&c.createElement(C,Object(n.a)({unmountOnExit:!0,className:u.group,in:ce,component:"ul",role:"group"},w),a))}));t.a=Object(d.a)((function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"MuiTreeItem"})(p)},1480:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(0),c=a.n(r),o=a(43),i=a(465),l=a(913),u=a(916),s=a(1482),d=a(1469),f=a(891),m=a(289),p=a(86),b=a(31),h=a(3),v=a(17),g=a(960),E=a(988),O=a(905),j=a(118),y=a(863),x=a(215),N=a(888),C=a(896),w=Object(i.a)((function(e){return{root:{},media:{height:250,backgroundColor:e.palette.background.dark},likedButton:{color:v.a.red[600]},subscribersIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(1)},editBox:{justifyContent:"space-between"},descriptionArea:{height:150,maxWidth:700,fontSize:"1.2em",fontWeight:400,fontFamily:"inherit",color:"currentColor",width:"100%"}}}));var k=function(e){var t=e.className,a=e.project,i=Object(b.a)(e,["className","project"]),l=Object(r.useRef)(),s=w(),d=Object(r.useState)(!1),f=Object(n.a)(d,2),m=f[0],v=f[1],k=Object(r.useState)(null),S=Object(n.a)(k,2),I=S[0],R=S[1],T=Object(r.useState)(a.cover),L=Object(n.a)(T,2),P=L[0],D=L[1],_=Object(r.useState)(a.title),A=Object(n.a)(_,2),F=A[0],K=A[1],B=Object(r.useState)(a.description),H=Object(n.a)(B,2),M=H[0],W=H[1],z=Object(o.c)();return c.a.createElement(g.a,Object.assign({className:Object(h.a)(s.root,t)},i),c.a.createElement(u.a,{p:3},c.a.createElement(u.a,null,c.a.createElement("input",{ref:l,type:"file",style:{display:"none"},onChange:function(e){!function(e){e.preventDefault();var t=e.target.files[0],a=URL.createObjectURL(t);D(a),R(t),v(!0)}(e)}}),c.a.createElement(u.a,{onClick:function(){l.current.click()}},c.a.createElement(E.a,{className:s.media,image:P}))),c.a.createElement(u.a,{display:"flex",alignItems:"center",mt:2},c.a.createElement(u.a,{px:1},m?c.a.createElement(O.a,{onChange:function(e){K(e.target.value)},defaultValue:a.title}):c.a.createElement(j.a,{color:"textPrimary",variant:"h5"},a.title)))),c.a.createElement(u.a,{pb:2,px:4,display:"flex"},m?c.a.createElement(y.a,{className:s.descriptionArea,onChange:function(e){W(e.target.value)},defaultValue:a.description,rowsMin:3}):c.a.createElement(j.a,{color:"textSecondary",variant:"body2"},a.description)),c.a.createElement(u.a,{py:2,px:3,display:"flex",className:s.editBox},c.a.createElement(u.a,{display:"flex"},c.a.createElement(x.a,{fontSize:"small",color:"action",className:s.subscribersIcon},c.a.createElement(C.a,null)),c.a.createElement(j.a,{variant:"subtitle2",color:"textSecondary"},a.customers||0)),m?c.a.createElement(N.a,{onClick:function(){!function(){v(!1);var e={service:{title:F,description:M},file:I,serviceId:a.id};z(Object(p.m)(e))}()}},"Save"):c.a.createElement(N.a,{onClick:function(){v(!0)}},"Edit")))};var S=function(e){var t=e.service;return c.a.createElement(u.a,{mt:6},t&&c.a.createElement(k,{project:{id:t._id,cover:t.cover,title:t.title,description:t.description}}))},I=a(144),R=a(8),T=a(121),L=a(1500),P=a(1059),D=a(998),_=a(11),A=a(12);P.c.mount(new P.a,new P.d);var F=Object(i.a)((function(e){return{root:{},heading:{},todo:{backgroundColor:"white"},description:{maxWidth:"400px",marginLeft:"20px",width:"100%"},actionButton:{marginLeft:e.spacing(2)}}}));var K=function(e){var t=e.className,a=e.checkItems,i=e.headings,s=e.serviceId,d=F(),f=Object(r.useState)(a),m=Object(n.a)(f,2),b=m[0],v=m[1],g=Object(o.c)(),E=Object(T.useSnackbar)().enqueueSnackbar;return c.a.createElement(l.a,null,b&&c.a.createElement(P.b,{multiDrag:!0,swap:!0,list:b,setList:v,className:Object(h.a)(d.root,t)},b.map((function(e,t){return c.a.createElement(D.a,{key:e._id,checkItem:e,headings:i,updateItem:function(e){b[t]=e,v(b)},removeItem:function(e){!function(e){var t=Object(I.a)(b);t.some((function(a,n){a._id===e&&(t.splice(n,1),v(t))}))}(e)}})}))),c.a.createElement(u.a,{display:"flex",flexDirection:"row-reverse",mt:2},c.a.createElement(N.a,{className:d.actionButton,color:"secondary",variant:"contained",onClick:function(){R.a.put("".concat(_.a,"/").concat(A.f.UPDATE,"/").concat(s),{check_list:b}).then((function(){g({type:p.h,payload:{check_list:b}}),E("Service updated",{variant:"success"})})).catch((function(e){console.log("service update error",e)}))}},"Update"),c.a.createElement(N.a,{className:d.actionButton,color:"secondary",variant:"contained",onClick:function(){v(b?[].concat(Object(I.a)(b),[{_id:Object(L.a)(),form:"",description:"",expanded:!0}]):[{_id:Object(L.a)(),form:"input",description:"",expanded:!0}])}},"Add To Do")))},B=a(235),H=a(35),M=a(914),W=a(1247),z=a(291),V=a.n(z),$=a(999),U=a.n($),q=a(1248),G=a(1488),J=a(871),Q=a(894),X=a(45),Y=Object(i.a)({root:{padding:20},container:{},headingContent:{height:300},labelTitle:{marginRight:10},fieldTitle:{marginRight:10},panel:{height:500},treeView:{},treeItem:{witdh:300}});var Z=function(e){var t=e.data,a=e.updateData,o=e.removeData,i=Y(),s=Object(r.useState)(!1),d=Object(n.a)(s,2),f=d[0],m=d[1],p=Object(r.useState)(t),b=Object(n.a)(p,2),h=b[0],v=b[1],g=Object(r.useState)(null),E=Object(n.a)(g,2),y=E[0],x=E[1],C=Object(r.useState)(""),w=Object(n.a)(C,2),k=w[0],S=w[1];return Object(r.useEffect)((function(){v(t),t&&t.field&&X.e.some((function(e){e.name===t.field&&x(e)})),t&&t.value?S(t.value):t&&!t.value&&S("")}),[t]),t?c.a.createElement(u.a,{className:i.root},h&&c.a.createElement(l.a,{className:i.container},c.a.createElement(u.a,{className:i.headingContent},c.a.createElement(u.a,{mt:3,display:"flex"},c.a.createElement(j.a,{className:i.labelTitle,color:"textPrimary",variant:"h4"},"Label:"),f?c.a.createElement(O.a,{onChange:function(e){var t;t=e,v(""!==k?Object(H.a)({},h,{label:t.target.value,value:k}):Object(H.a)({},h,{label:t.target.value}))},value:h.label}):c.a.createElement(j.a,{color:"textPrimary",variant:"h5"},h.label)),c.a.createElement(u.a,{mt:3,display:"flex",width:300},c.a.createElement(j.a,{color:"textPrimary",variant:"h4",className:i.fieldTitle},"Field:"),f?c.a.createElement(G.a,{id:"grouped-demo",value:y,options:X.e,groupBy:function(e){return e.group},getOptionLabel:function(e){return e.title},style:{width:300},renderInput:function(e){return c.a.createElement(O.a,Object.assign({},e,{label:"With categories",variant:"outlined"}))},onChange:function(e,t){x(t)}}):c.a.createElement(j.a,{color:"textPrimary",variant:"h5"},h.field)),y&&"text_field"===y.name&&c.a.createElement(u.a,{mt:2,display:"flex",width:500},c.a.createElement(j.a,{color:"textPrimary",variant:"h4",className:i.fieldTitle},"Input:"),c.a.createElement(O.a,{value:k,onChange:function(e){return S(e.target.value)},multiline:!0,fullWidth:!0,rows:6,variant:"outlined"})),y&&"select_field"===y.name&&c.a.createElement(u.a,{mt:2,display:"flex",width:500},c.a.createElement(j.a,{color:"textPrimary",variant:"h4",className:i.fieldTitle},"Select:"),c.a.createElement(J.a,{value:k,onChange:function(e){S(e.target.value)}},X.e[2].value.map((function(e,t){return c.a.createElement(Q.a,{value:e,key:t},e)}))))),c.a.createElement(u.a,{display:"flex",flexDirection:"row-reverse"},c.a.createElement(u.a,{ml:2},c.a.createElement(N.a,{color:"primary",variant:"contained",size:"small",onClick:function(){o()}},"Remove")),c.a.createElement(u.a,{ml:2},f?c.a.createElement(N.a,{color:"secondary",variant:"contained",size:"small",onClick:function(){m(!1),a(""!==k?Object(H.a)({},h,{field:y.name,value:k}):Object(H.a)({},h,{field:y.name}))}},"Save"):c.a.createElement(N.a,{color:"secondary",variant:"contained",size:"small",onClick:function(){m(!0)}},"Edit")),!h.subHeading&&c.a.createElement(u.a,{ml:2},c.a.createElement(N.a,{color:"secondary",variant:"contained",size:"small",onClick:function(){!function(){var e={id:Object(L.a)(),label:"New SubHeading",field:"label"};h&&h.children?a(Object(H.a)({},h,{children:[].concat(Object(I.a)(h.children),[e])})):a(Object(H.a)({},h,{children:[e]}))}()}},"New SubHeading"))))):null},ee=Object(i.a)({root:{flexGrow:1,maxWidth:1024,backgroundColor:"white"},container:{},panel:{minHeight:500},treeView:{marginTop:20},treeItem:{witdh:300}});var te=function(e){var t=e.className,a=e.headings,o=e.updateHeadings,i=ee(),l=Object(r.useState)([]),s=Object(n.a)(l,2),d=s[0],f=s[1],m=Object(r.useState)(null),p=Object(n.a)(m,2),b=p[0],v=p[1],g=Object(r.useState)(null),E=Object(n.a)(g,2),O=E[0],y=E[1];return c.a.createElement(u.a,{className:Object(h.a)(i.root,t)},c.a.createElement(u.a,{className:i.panel,mt:3,ml:1,display:"flex"},c.a.createElement(M.a,{variant:"outlined"},c.a.createElement(j.a,{variant:"h5"},"Headings"),c.a.createElement(W.a,{className:i.treeView,defaultCollapseIcon:c.a.createElement(V.a,null),defaultExpandIcon:c.a.createElement(U.a,null),expanded:d,selected:b,onNodeToggle:function(e,t){f(t)},onNodeSelect:function(e,t){v(t),a.some((function(e){e.id===t?y(e):e.children&&e.children.some((function(e){e.id===t&&y(Object(H.a)({},e,{subHeading:!0}))}))}))}},a.map((function(e){return c.a.createElement(q.a,{className:i.treeItem,key:e.id,nodeId:e.id,label:e.label},e.children&&e.children.map((function(e){return c.a.createElement(q.a,{className:i.treeItem,key:e.id,nodeId:e.id,label:e.label})})))})))),O&&c.a.createElement(M.a,null,c.a.createElement(Z,{data:O,updateData:function(e){var t=Object(I.a)(a);t.some((function(a,n){a.id===e.id?(t[n]=e,o(t)):a.children&&a.children.some((function(a,r){a.id===e.id&&(t[n].children[r]=e,o(t))}))})),y(e)},removeData:function(){var e=Object(I.a)(a);e.some((function(t,a){t.id===O.id?(e.splice(a,1),o(e)):t.children&&t.children.some((function(t,n){t.id===O.id&&(e[a].children.splice(n,1),o(e))}))})),y(null)}}))))},ae=Object(i.a)((function(e){return{root:{paddingLeft:30,paddingRight:30},container:{minHeight:500},formButton:{marginLeft:e.spacing(2)}}}));var ne=function(e){e.className;var t=e.serviceHeadings,a=e.serviceId,i=ae(),l=Object(o.c)(),s=Object(r.useState)(t),d=Object(n.a)(s,2),f=d[0],m=d[1],b=Object(T.useSnackbar)().enqueueSnackbar;return Object(r.useEffect)((function(){l(Object(B.c)())}),[]),c.a.createElement(u.a,{mt:2},c.a.createElement(u.a,{className:i.container},c.a.createElement(te,{headings:f,updateHeadings:function(e){m(e)}}),c.a.createElement(u.a,{display:"flex",flexDirection:"row-reverse",maxWidth:1024,mt:2},c.a.createElement(N.a,{className:i.formButton,color:"secondary",variant:"contained",size:"small",onClick:function(){R.a.put("".concat(_.a,"/").concat(A.f.UPDATE,"/").concat(a),{headings:f}).then((function(){b("Report updated",{variant:"success"}),l({type:p.f,payload:f})})).catch((function(e){console.log("error",e)}))}},"Update"),c.a.createElement(N.a,{className:i.formButton,color:"secondary",variant:"contained",size:"small",onClick:function(){m([].concat(Object(I.a)(f),[{id:Object(L.a)(),label:"New Heading"}]))}},"Create Heading"))))},re=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(e){var t=re(),a=Object(r.useState)("overview"),i=Object(n.a)(a,2),b=i[0],h=i[1],v=Object(o.c)(),g=e.match.params.serviceId,E=Object(o.d)((function(e){return e.service})).service;return Object(r.useEffect)((function(){v(Object(p.j)(g))}),[v]),E?c.a.createElement(m.a,{className:t.root,title:"Project Details"},c.a.createElement(l.a,{maxWidth:"lg"},c.a.createElement(u.a,{mt:3},c.a.createElement(s.a,{onChange:function(e,t){h(t)},scrollButtons:"auto",textColor:"secondary",value:b,variant:"scrollable"},[{value:"overview",label:"Overview"},{value:"checklist",label:"Check List"},{value:"report",label:"Report"}].map((function(e){return c.a.createElement(d.a,{key:e.value,label:e.label,value:e.value})})))),c.a.createElement(f.a,null),c.a.createElement(u.a,{mt:3},"overview"===b&&c.a.createElement(S,{service:E}),"checklist"===b&&c.a.createElement(K,{serviceId:E._id,checkItems:E.check_list,headings:E.headings}),"report"===b&&c.a.createElement(ne,{serviceId:E._id,serviceHeadings:E.headings})))):null}},960:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),o=(a(2),a(3)),i=a(223),l=a(6),u=c.forwardRef((function(e,t){var a=e.classes,l=e.className,u=e.raised,s=void 0!==u&&u,d=Object(r.a)(e,["classes","className","raised"]);return c.createElement(i.a,Object(n.a)({className:Object(o.a)(a.root,l),elevation:s?8:1,ref:t},d))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},988:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),o=(a(2),a(3)),i=a(6),l=["video","audio","picture","iframe","img"],u=c.forwardRef((function(e,t){var a=e.children,i=e.classes,u=e.className,s=e.component,d=void 0===s?"div":s,f=e.image,m=e.src,p=e.style,b=Object(r.a)(e,["children","classes","className","component","image","src","style"]),h=-1!==l.indexOf(d),v=!h&&f?Object(n.a)({backgroundImage:'url("'.concat(f,'")')},p):p;return c.createElement(d,Object(n.a)({className:Object(o.a)(i.root,u,h&&i.media,-1!=="picture img".indexOf(d)&&i.img),ref:t,style:v,src:h?f||m:void 0},b),a)}));t.a=Object(i.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(u)},998:function(e,t,a){"use strict";var n=a(35),r=a(144),c=a(27),o=a(0),i=a.n(o),l=a(465),u=a(1505),s=a(1471),d=a(118),f=a(1472),m=a(914),p=a(905),b=a(888),h=a(916),v=a(497),g=a(891),E=a(1504),O=a(1488),j=a(291),y=a.n(j),x=a(45),N=a(964),C=a(977),w=Object(l.a)((function(){return{root:{flexGrow:1},heading:{},todo:{backgroundColor:"white"},panel:{flexWrap:"wrap"},panelBody:{display:"flex",justifyContent:"space-between",padding:"0px"},description:{maxWidth:"600px",marginLeft:"10px",width:"100%"}}}));t.a=function(e){var t=e.checkItem,a=e.updateItem,l=e.removeItem,j=e.headings,k=w(),S=Object(o.useState)(t.description),I=Object(c.a)(S,2),R=I[0],T=I[1],L=Object(o.useState)(t.form),P=Object(c.a)(L,2),D=P[0],_=P[1],A=Object(o.useState)(j[0]),F=Object(c.a)(A,2),K=F[0],B=F[1],H=Object(o.useState)(x.g),M=Object(c.a)(H,2),W=M[0],z=M[1],V=Object(o.useState)(x.h),$=Object(c.a)(V,2),U=$[0],q=$[1],G=Object(o.useState)([{columnName:"id",width:60}]),J=Object(c.a)(G,1)[0],Q=Object(o.useState)([]),X=Object(c.a)(Q,2),Y=X[0],Z=X[1],ee=Object(o.useState)([]),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)({}),ce=Object(c.a)(re,2),oe=ce[0],ie=ce[1],le=Object(o.useState)(""),ue=Object(c.a)(le,2),se=ue[0],de=ue[1],fe=Object(o.useState)(x.b),me=Object(c.a)(fe,2),pe=me[0],be=me[1];return Object(o.useEffect)((function(){if("table"===D&&t.table_columns&&be(t.table_columns),"table"===D&&t.table_data){for(var e=[],a=0;a<t.table_data.length;a++){for(var n={id:a},r=0;r<t.table_columns.length;r++){n[t.table_columns[r]]=t.table_data[a][r]}e.push(n)}q(e)}j.some((function(e){e.id===t.heading&&B(e)}))}),[]),Object(o.useEffect)((function(){for(var e=[],t=0;t<pe.length;t++)e.push({title:pe[t],name:pe[t]});z(e)}),[pe]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{defaultExpanded:t.expanded},i.a.createElement(s.a,{expandIcon:i.a.createElement(y.a,null),"aria-controls":"panel1a-content"},i.a.createElement(d.a,{className:k.heading},R)),i.a.createElement(f.a,{className:k.panel},i.a.createElement(m.a,{xs:12,item:!0,className:k.panelBody},i.a.createElement(O.a,{value:K,options:j,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return i.a.createElement(p.a,Object.assign({},e,{label:"Heading",variant:"outlined"}))},onChange:function(e,t){B(t)}}),i.a.createElement(O.a,{value:D,options:x.c,getOptionLabel:function(e){return function(e){for(var t=0;t<x.d.length;t++)if(x.d[t].title===e)return x.d[t].content;return x.d[0].content}(e)},style:{width:300},renderInput:function(e){return i.a.createElement(p.a,Object.assign({},e,{label:"Form Type",variant:"outlined"}))},onChange:function(e,t){_(t)}}),i.a.createElement(p.a,{placeholder:"Description",variant:"outlined",label:"Description",className:k.description,defaultValue:R,onChange:function(e){T(e.target.value)}}),i.a.createElement(b.a,{onClick:function(){!function(){if(t.description=R,t.form=D,t.heading=K.id,t.expanded=!1,"table"===D&&(pe&&(t.table_columns=pe),U)){for(var e=[],n=0;n<U.length;n++){for(var r=[],c=0;c<pe.length;c++){var o=pe[c],i=U[n][o]||"";r.push(i)}e.push(r)}t.table_data=e}a(t)}()}},"Update"),i.a.createElement(b.a,{onClick:function(){l(t._id)}},"Remove")),"table"===D&&i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{p:1,display:"flex",alignItems:"center"},i.a.createElement(v.a,{disableUnderline:!0,fullWidth:!0,className:k.searchInput,onChange:function(e){e.persist(),de(e.target.value)},onKeyUp:function(e){e.persist(),13===e.keyCode&&se&&(pe.includes(se)||(be((function(e){return[].concat(Object(r.a)(e),[se])})),de("")))},placeholder:"Enter a keyword",value:se})),i.a.createElement(g.a,null),i.a.createElement(h.a,{p:1,display:"flex",alignItems:"center",flexWrap:"wrap"},pe.map((function(e){return i.a.createElement(E.a,{className:k.chip,key:e,label:e,onDelete:function(){return function(e){be((function(t){return t.filter((function(t){return e!==t}))}))}(e)}})}))),i.a.createElement(g.a,null)),i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{rows:U,columns:W,getRowId:function(e){return e.id}},i.a.createElement(N.c,{editingRowIds:Y,onEditingRowIdsChange:Z,rowChanges:oe,onRowChangesChange:ie,addedRows:ae,onAddedRowsChange:function(e){var t=e.map((function(e){return Object.keys(e).length?e:{}}));ne(t)},onCommitChanges:function(e){var t,a=e.added,c=e.changed,o=e.deleted;if(a){var i=U.length>0?U[U.length-1].id+1:0;t=[].concat(Object(r.a)(U),Object(r.a)(a.map((function(e,t){return Object(n.a)({id:i+t},e)}))))}if(c&&(t=U.map((function(e){return c[e.id]?Object(n.a)({},e,{},c[e.id]):e}))),o){var l=new Set(o);t=U.filter((function(e){return!l.has(e.id)}))}q(t)}}),i.a.createElement(C.b,{columnExtensions:J}),i.a.createElement(C.e,null),i.a.createElement(C.d,null),i.a.createElement(C.c,{showAddCommand:!ae.length,showEditCommand:!0,showDeleteCommand:!0})))))))}}}]);
//# sourceMappingURL=21.11ac5b9f.chunk.js.map