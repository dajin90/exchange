(this.webpackJsonpdecon_admin=this.webpackJsonpdecon_admin||[]).push([[22],{1492:function(e,t,a){"use strict";a.r(t);var n=a(144),c=a(35),r=a(27),i=a(0),o=a.n(i),l=a(121),s=a(465),u=a(913),d=a(916),m=a(914),f=a(888),p=a(1500),b=a(289),g=a(8),h=a(930),j=a(11),E=a(12),O=a(31),v=a(3),k=a(17),x=a(960),w=a(988),y=a(905),C=a(118),N=a(215),S=a(896),I=a(963),_=Object(s.a)((function(e){return{root:{},media:{height:200,backgroundColor:e.palette.background.dark},likedButton:{color:k.a.red[600]},subscribersIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(1)},editBox:{justifyContent:"space-between"}}}));var R=function(e){var t=e.className,a=e.project,n=e.setProject,c=e.setFile,l=Object(O.a)(e,["className","project","setProject","setFile"]),s=Object(i.useRef)(),u=_(),m=Object(i.useState)(!1),p=Object(r.a)(m,2),b=p[0],g=p[1],h=Object(i.useState)(a.cover),j=Object(r.a)(h,2),E=j[0],k=j[1];return Object(i.useEffect)((function(){b||n(a)}),[b]),console.log("cover",E),o.a.createElement(x.a,Object.assign({className:Object(v.a)(u.root,t)},l),o.a.createElement(d.a,{p:3},o.a.createElement(d.a,null,o.a.createElement("input",{ref:s,type:"file",style:{display:"none"},onChange:function(e){!function(e){e.preventDefault();var t=e.target.files[0],a=URL.createObjectURL(t);k(a),c(t)}(e)}}),o.a.createElement(d.a,{onClick:function(){s.current.click()}},E?o.a.createElement(w.a,{className:u.media,image:E}):o.a.createElement(w.a,{className:u.media,image:I.a.AddFileIcon}))),o.a.createElement(d.a,{display:"flex",alignItems:"center",mt:2},o.a.createElement(d.a,{px:1},b?o.a.createElement(y.a,{onChange:function(e){a.title=e.target.value},defaultValue:a.title}):o.a.createElement(C.a,{color:"textPrimary",variant:"h5"},a.title)))),o.a.createElement(d.a,{pb:2,px:4,display:"flex"},b?o.a.createElement(y.a,{fullWidth:!0,onChange:function(e){a.description=e.target.value},defaultValue:a.description}):o.a.createElement(C.a,{color:"textSecondary",variant:"body2"},a.description)),o.a.createElement(d.a,{py:2,px:3,display:"flex",className:u.editBox},o.a.createElement(d.a,{display:"flex"},o.a.createElement(N.a,{fontSize:"small",color:"action",className:u.subscribersIcon},o.a.createElement(S.a,null)),o.a.createElement(C.a,{variant:"subtitle2",color:"textSecondary"},a.customers||0)),b?o.a.createElement(f.a,{onClick:function(){g(!1)}},"Save"):o.a.createElement(f.a,{onClick:function(){g(!0)}},"Edit")))},F=a(1059),L=a(998);F.c.mount(new F.a,new F.d);var D=Object(s.a)((function(){return{root:{},heading:{},todo:{backgroundColor:"white"},description:{maxWidth:"400px",marginLeft:"20px",width:"100%"}}}));var B=function(e){var t=e.className,a=e.checkList,n=e.setCheckList,c=D();return a?o.a.createElement(u.a,null,o.a.createElement(F.b,{multiDrag:!0,swap:!0,list:a,setList:n,className:Object(v.a)(c.root,t)},a.map((function(e,t){return o.a.createElement(L.a,{key:e._id,checkItem:e,updateItem:function(e){a[t]=e,n(a)}})})))):null},U=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},actionGroup:{flexDirection:"row-reverse",marginTop:"20px"},actionButton:{marginRight:"20px"}}}));t.default=function(e){var t=U(),a=Object(l.useSnackbar)().enqueueSnackbar,s=Object(h.a)(),O=Object(i.useState)(null),v=Object(r.a)(O,2),k=v[0],x=v[1],w=e.match.params.serviceId,y=Object(i.useState)(null),C=Object(r.a)(y,2),N=C[0],S=C[1],I=Object(i.useCallback)((function(){g.a.get("".concat(j.a,"/").concat(E.f.GET,"/").concat(w)).then((function(e){s.current&&x(e.data.service)}))}),[s]);return Object(i.useEffect)((function(){I()}),[I]),o.a.createElement(b.a,{className:t.root,title:"Overview"},o.a.createElement(u.a,{maxWidth:"lg"},o.a.createElement(d.a,{mt:6},k&&o.a.createElement(R,{project:{cover:k.cover,title:k.title,description:k.description},setProject:function(e){x(Object(c.a)({},k,{},e))},setFile:function(e){S(e)}})),o.a.createElement(d.a,{mt:6},k&&o.a.createElement(B,{checkList:k.check_list,setCheckList:function(e){x(Object(c.a)({},k,{check_list:e}))}})),o.a.createElement(m.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3,className:t.actionGroup},o.a.createElement(m.a,{item:!0},o.a.createElement(f.a,{className:t.actionButton,color:"secondary",variant:"contained",onClick:function(){if(k.check_list){var e=[].concat(Object(n.a)(k.check_list),[{_id:Object(p.a)(),form:"",description:"",expanded:!0}]);x(Object(c.a)({},k,{check_list:e}))}else x(Object(c.a)({},k,{check_list:[{_id:Object(p.a)(),form:"input",description:"",expanded:!0}]}))}},"Add To Do"),o.a.createElement(f.a,{className:t.actionButton,color:"secondary",variant:"contained",onClick:function(){!function(){if(N){var e=new FormData;e.append("file",N),e.append("service",JSON.stringify(k)),g.a.put("".concat(j.a,"/").concat(E.f.UPDATE,"/").concat(w),e).then((function(){a("Service Updated",{variant:"success"})}))}else g.a.put("".concat(j.a,"/").concat(E.f.UPDATE,"/").concat(w),k).then((function(){a("Service Updated",{variant:"success"})}))}()}},"Save")))))}},930:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0);function c(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},960:function(e,t,a){"use strict";var n=a(1),c=a(4),r=a(0),i=(a(2),a(3)),o=a(223),l=a(6),s=r.forwardRef((function(e,t){var a=e.classes,l=e.className,s=e.raised,u=void 0!==s&&s,d=Object(c.a)(e,["classes","className","raised"]);return r.createElement(o.a,Object(n.a)({className:Object(i.a)(a.root,l),elevation:u?8:1,ref:t},d))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(s)},963:function(e,t,a){"use strict";var n={PlusIcon:a(996),AddFileIcon:a(997)};t.a=n},988:function(e,t,a){"use strict";var n=a(1),c=a(4),r=a(0),i=(a(2),a(3)),o=a(6),l=["video","audio","picture","iframe","img"],s=r.forwardRef((function(e,t){var a=e.children,o=e.classes,s=e.className,u=e.component,d=void 0===u?"div":u,m=e.image,f=e.src,p=e.style,b=Object(c.a)(e,["children","classes","className","component","image","src","style"]),g=-1!==l.indexOf(d),h=!g&&m?Object(n.a)({backgroundImage:'url("'.concat(m,'")')},p):p;return r.createElement(d,Object(n.a)({className:Object(i.a)(o.root,s,g&&o.media,-1!=="picture img".indexOf(d)&&o.img),ref:t,style:h,src:g?m||f:void 0},b),a)}));t.a=Object(o.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(s)},996:function(e,t,a){e.exports=a.p+"static/media/plus.be237ea4.svg"},997:function(e,t,a){e.exports=a.p+"static/media/add_file.84371f25.svg"},998:function(e,t,a){"use strict";var n=a(35),c=a(144),r=a(27),i=a(0),o=a.n(i),l=a(465),s=a(1505),u=a(1471),d=a(118),m=a(1472),f=a(914),p=a(905),b=a(888),g=a(916),h=a(497),j=a(891),E=a(1504),O=a(1488),v=a(291),k=a.n(v),x=a(45),w=a(964),y=a(977),C=Object(l.a)((function(){return{root:{flexGrow:1},heading:{},todo:{backgroundColor:"white"},panel:{flexWrap:"wrap"},panelBody:{display:"flex",justifyContent:"space-between",padding:"0px"},description:{maxWidth:"600px",marginLeft:"10px",width:"100%"}}}));t.a=function(e){var t=e.checkItem,a=e.updateItem,l=e.removeItem,v=e.headings,N=C(),S=Object(i.useState)(t.description),I=Object(r.a)(S,2),_=I[0],R=I[1],F=Object(i.useState)(t.form),L=Object(r.a)(F,2),D=L[0],B=L[1],U=Object(i.useState)(v[0]),P=Object(r.a)(U,2),A=P[0],T=P[1],W=Object(i.useState)(x.g),G=Object(r.a)(W,2),J=G[0],M=G[1],V=Object(i.useState)(x.h),z=Object(r.a)(V,2),q=z[0],H=z[1],K=Object(i.useState)([{columnName:"id",width:60}]),Q=Object(r.a)(K,1)[0],X=Object(i.useState)([]),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)([]),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)({}),re=Object(r.a)(ce,2),ie=re[0],oe=re[1],le=Object(i.useState)(""),se=Object(r.a)(le,2),ue=se[0],de=se[1],me=Object(i.useState)(x.b),fe=Object(r.a)(me,2),pe=fe[0],be=fe[1];return Object(i.useEffect)((function(){if("table"===D&&t.table_columns&&be(t.table_columns),"table"===D&&t.table_data){for(var e=[],a=0;a<t.table_data.length;a++){for(var n={id:a},c=0;c<t.table_columns.length;c++){n[t.table_columns[c]]=t.table_data[a][c]}e.push(n)}H(e)}v.some((function(e){e.id===t.heading&&T(e)}))}),[]),Object(i.useEffect)((function(){for(var e=[],t=0;t<pe.length;t++)e.push({title:pe[t],name:pe[t]});M(e)}),[pe]),o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{defaultExpanded:t.expanded},o.a.createElement(u.a,{expandIcon:o.a.createElement(k.a,null),"aria-controls":"panel1a-content"},o.a.createElement(d.a,{className:N.heading},_)),o.a.createElement(m.a,{className:N.panel},o.a.createElement(f.a,{xs:12,item:!0,className:N.panelBody},o.a.createElement(O.a,{value:A,options:v,getOptionLabel:function(e){return e.label},style:{width:300},renderInput:function(e){return o.a.createElement(p.a,Object.assign({},e,{label:"Heading",variant:"outlined"}))},onChange:function(e,t){T(t)}}),o.a.createElement(O.a,{value:D,options:x.c,getOptionLabel:function(e){return function(e){for(var t=0;t<x.d.length;t++)if(x.d[t].title===e)return x.d[t].content;return x.d[0].content}(e)},style:{width:300},renderInput:function(e){return o.a.createElement(p.a,Object.assign({},e,{label:"Form Type",variant:"outlined"}))},onChange:function(e,t){B(t)}}),o.a.createElement(p.a,{placeholder:"Description",variant:"outlined",label:"Description",className:N.description,defaultValue:_,onChange:function(e){R(e.target.value)}}),o.a.createElement(b.a,{onClick:function(){!function(){if(t.description=_,t.form=D,t.heading=A.id,t.expanded=!1,"table"===D&&(pe&&(t.table_columns=pe),q)){for(var e=[],n=0;n<q.length;n++){for(var c=[],r=0;r<pe.length;r++){var i=pe[r],o=q[n][i]||"";c.push(o)}e.push(c)}t.table_data=e}a(t)}()}},"Update"),o.a.createElement(b.a,{onClick:function(){l(t._id)}},"Remove")),"table"===D&&o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{p:1,display:"flex",alignItems:"center"},o.a.createElement(h.a,{disableUnderline:!0,fullWidth:!0,className:N.searchInput,onChange:function(e){e.persist(),de(e.target.value)},onKeyUp:function(e){e.persist(),13===e.keyCode&&ue&&(pe.includes(ue)||(be((function(e){return[].concat(Object(c.a)(e),[ue])})),de("")))},placeholder:"Enter a keyword",value:ue})),o.a.createElement(j.a,null),o.a.createElement(g.a,{p:1,display:"flex",alignItems:"center",flexWrap:"wrap"},pe.map((function(e){return o.a.createElement(E.a,{className:N.chip,key:e,label:e,onDelete:function(){return function(e){be((function(t){return t.filter((function(t){return e!==t}))}))}(e)}})}))),o.a.createElement(j.a,null)),o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{rows:q,columns:J,getRowId:function(e){return e.id}},o.a.createElement(w.c,{editingRowIds:Z,onEditingRowIdsChange:$,rowChanges:ie,onRowChangesChange:oe,addedRows:ae,onAddedRowsChange:function(e){var t=e.map((function(e){return Object.keys(e).length?e:{}}));ne(t)},onCommitChanges:function(e){var t,a=e.added,r=e.changed,i=e.deleted;if(a){var o=q.length>0?q[q.length-1].id+1:0;t=[].concat(Object(c.a)(q),Object(c.a)(a.map((function(e,t){return Object(n.a)({id:o+t},e)}))))}if(r&&(t=q.map((function(e){return r[e.id]?Object(n.a)({},e,{},r[e.id]):e}))),i){var l=new Set(i);t=q.filter((function(e){return!l.has(e.id)}))}H(t)}}),o.a.createElement(y.b,{columnExtensions:Q}),o.a.createElement(y.e,null),o.a.createElement(y.d,null),o.a.createElement(y.c,{showAddCommand:!ae.length,showEditCommand:!0,showDeleteCommand:!0})))))))}}}]);
//# sourceMappingURL=22.ffa47436.chunk.js.map